let bookTypesArr=["Viaje turístico","Excursión"];const{travels:travels,"excursions-ES":excursions,"prices-ES":prices}=DB;let commonErrorMessage="Primero debe seleccionar un tipo de reservacion, para que podamos saber con que podemos rellenar esos campos";$(document).ready(()=>{setActualDate("pickupDate"),$("#selectBookType").on("change",e=>{switch(e.target.value){case bookTypesArr[0]:emptyContainers(["excursionContainer"]),drawTracksSelect(2),drawPickupsLocationSelect(Object.values(travels["pickup locations"])),drawDestinySelect([]),drawPassengersSelect([]);break;case bookTypesArr[1]:emptyContainers(["pickupLocationsContainer","tracksContainer","tracksTitleContainer","destiniesContainer"]),drawSelectExcursions(Object.keys(excursions)),drawPassengersSelect([]);break;default:drawTracksSelect(2),drawPickupsLocationSelect([]),drawSelectExcursions([]),drawDestinySelect([]),drawPassengersSelect([])}}),$("#excursionContainer").on("change","#selectExcursions",e=>{const[a,o]=e.target.value?e.target.value.split(optionValueSeparator):["",""],r=o.split(arraySeparator);drawPassengersSelect(r)}),$("#pickupLocationsContainer").on("change","#selectPickupLocations",e=>{const[a,o,r,t]=e.target.value?e.target.value.split(optionValueSeparator):["","","","",""];drawTracksSelect(r),drawDestinySelect(o.split(arraySeparator2)),drawPassengersSelect(t.split(arraySeparator))}),$("#destiniesContainer, #passengersContainer").on("click","#selectDestinies, #selectPassengers",()=>{let e;document.fBook.bookType.value?document.fBook.bookType.value!=bookTypesArr[0]||document.fBook.pickupLocations.value?document.fBook.bookType.value!=bookTypesArr[1]||document.fBook.excursions.value||(e="Primero debe seleccionar una excursion, para que podamos saber con que podemos rellenar esos campos",drawAlert(e),animateCSS("#excursionContainer","bounce","faster")):(e="Primero debe seleccionar un lugar de recogida, para que podamos saber con que podemos rellenar esos campos",drawAlert(e),animateCSS("#pickupLocationsContainer","bounce","faster")):(drawAlert(commonErrorMessage),animateCSS("#bookTypeContainer","bounce","faster"))}),$("#pickupLocationsContainer").on("click","#selectPickupLocations",()=>{document.fBook.bookType.value||(drawAlert(commonErrorMessage),animateCSS("#bookTypeContainer","bounce","faster"))}),$("#excursionContainer").on("click","#selectExcursions",()=>{document.fBook.bookType.value||(drawAlert(commonErrorMessage),animateCSS("#bookTypeContainer","bounce","faster"))}),$("#formBook").on("submit",e=>{e.preventDefault();const a=e.target.selectBookType.value,{selectPickupLocations:o,selectExcursions:r,selectDestinies:t,selectPassengers:s,pickupDate:c}=e.target,n=o?o.value.split(optionValueSeparator)[0]:void 0,l=document.fBook.tracks?document.fBook.tracks.value:void 0,i=r?r.value.split(optionValueSeparator)[0]:void 0,p=formatDate(c.value);let u;if(!carSelected)return drawAlert("Debe seleccionar un vehiculo"),void(window.location="#carContainer1");switch(a){case bookTypesArr[0]:try{u=prices["pickup locations"][n].destiny[t.value].tracks[l]["passengers ranges"][s.value],$("#totalPriceContainer").html("<h3>Total Estimado:</h3>"+`<p>USD$ ${u}</p>`)}catch(e){$("#totalPriceContainer").html("<p>Consulte el precio con la empresa</p>")}wameMessage=`Hola, quiero hacer una reservación del servicio de ${a}, `+`tomaré la ruta que va desde el punto de recogida ${n} hasta `+`${t.value}, para la fecha del ${p}, con una `+`cantidad de pasajeros que va desde ${s.value} pasajeros, y en el cual `+"quiero que sea de "+(l<2?"1 vía.":`${l} vías.`)+" ¿Me podrían ofrecer más información, por favor?",$("#selectedDateContainer").html('<h3 class="title">Fecha selecionada:</h3>'+`<p>${p}</p>`),$("#selectedRouteContainer").html('<h3 class="title">Ruta Selecionada:</h3>'+`<p>${n} hacia ${t.value}</p>`),$("#selectedCarContainer").html('<h3 class="title">Auto seleccionado:</h3>'+`<p>${carSelected}</p>`),$("#ventanaModal").modal("show").modal("handleUpdate");break;case bookTypesArr[1]:try{u=excursions[i]["passengers ranges"][s.value],$("#totalPriceContainer").html("<h3>Total Estimado:</h3>"+`<p>USD$ ${u}</p>`)}catch(e){$("#totalPriceContainer").html("<p>Consulte el precio con la empresa</p>")}wameMessage=`Hola, quiero hacer una reservación del servicio de ${a}, `+`escogí: ${i}, para la fecha del ${p} `+(s.value?`con una cantidad de pasajeros que va desde ${s.value} pasajeros, `:"")+" ¿Me podrían ofrecer más información, por favor?",$("#selectedDateContainer").html('<h3 class="title">Fecha selecionada:</h3>'+`<p>${p}</p>`),$("#selectedRouteContainer").html('<h3 class="title">Excursion Selecionada:</h3>'+`<p>${i}</p>`),$("#selectedCarContainer").html('<h3 class="title">Auto seleccionado:</h3>'+`<p>${carSelected}</p>`),$("#ventanaModal").modal("show").modal("handleUpdate")}})});