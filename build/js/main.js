let bookTypesArr=["Tourist trip","Excursion"];const{travels:travels,"excursions-EN":excursions,"prices-EN":prices}=DB;let commonErrorMessage="You must first select a reservation type, so we can know what we can fill in those fields with";$(document).ready(()=>{setActualDate("pickupDate"),$("#selectBookType").on("change",e=>{switch(e.target.value){case bookTypesArr[0]:emptyContainers(["excursionContainer"]),drawTracksSelect(2),drawPickupsLocationSelect(Object.values(travels["pickup locations"])),drawDestinySelect([]),drawPassengersSelect([]);break;case bookTypesArr[1]:emptyContainers(["pickupLocationsContainer","tracksContainer","tracksTitleContainer","destiniesContainer"]),drawSelectExcursions(Object.keys(excursions)),drawPassengersSelect([]);break;default:drawTracksSelect(2),drawPickupsLocationSelect([]),drawSelectExcursions([]),drawDestinySelect([]),drawPassengersSelect([])}}),$("#excursionContainer").on("change","#selectExcursions",e=>{const[t,a]=e.target.value?e.target.value.split(optionValueSeparator):["",""],o=a.split(arraySeparator);drawPassengersSelect(o)}),$("#pickupLocationsContainer").on("change","#selectPickupLocations",e=>{const[t,a,o,s]=e.target.value?e.target.value.split(optionValueSeparator):["","","","",""];drawTracksSelect(o),drawDestinySelect(a.split(arraySeparator2)),drawPassengersSelect(s.split(arraySeparator))}),$("#destiniesContainer, #passengersContainer").on("click","#selectDestinies, #selectPassengers",()=>{let e;document.fBook.bookType.value?document.fBook.bookType.value!=bookTypesArr[0]||document.fBook.pickupLocations.value?document.fBook.bookType.value!=bookTypesArr[1]||document.fBook.excursions.value||(e="You must first select an excursion, so we can know what we can fill in those fields with",drawAlert(e),animateCSS("#excursionContainer","bounce","faster")):(e="You must first select a pick up location, so we can know what we can fill in those fields with",drawAlert(e),animateCSS("#pickupLocationsContainer","bounce","faster")):(drawAlert(commonErrorMessage),animateCSS("#bookTypeContainer","bounce","faster"))}),$("#pickupLocationsContainer").on("click","#selectPickupLocations",()=>{document.fBook.bookType.value||(drawAlert(commonErrorMessage),animateCSS("#bookTypeContainer","bounce","faster"))}),$("#excursionContainer").on("click","#selectExcursions",()=>{document.fBook.bookType.value||(drawAlert(commonErrorMessage),animateCSS("#bookTypeContainer","bounce","faster"))}),$("#formBook").on("submit",e=>{e.preventDefault();const t=e.target.selectBookType.value,{selectPickupLocations:a,selectExcursions:o,selectDestinies:s,selectPassengers:r,pickupDate:n}=e.target,c=a?a.value.split(optionValueSeparator)[0]:void 0,i=document.fBook.tracks?document.fBook.tracks.value:void 0,l=o?o.value.split(optionValueSeparator)[0]:void 0,p=formatDate(n.value);let u;if(!carSelected)return drawAlert("You should choose a vehicle first!"),void(window.location="#carContainer1");switch(t){case bookTypesArr[0]:try{u=prices["pickup locations"][c].destiny[s.value].tracks[i]["passengers ranges"][r.value],$("#totalPriceContainer").html("<h3>Total estimated:</h3>"+`<p>USD$ ${u}</p>`)}catch(e){$("#totalPriceContainer").html("<p>Check the price with the company</p>")}wameMessage=`Hi!, i want to make a reservation for the ${t} service, `+`I'll take the route that goes from the pickup point ${c} to `+`${s.value}, for the date of ${p}, with a range `+`of ${r.value} passengers, and in which `+"It'll take "+(i<2?"1 track.":`${i} tracks.`)+" Could you offer me more information, please?",$("#selectedDateContainer").html('<h3 class="title">Selected date:</h3>'+`<p>${p}</p>`),$("#selectedRouteContainer").html('<h3 class="title">Selected route:</h3>'+`<p>${c} to ${s.value}</p>`),$("#selectedCarContainer").html('<h3 class="title">Selected vehicle:</h3>'+`<p>${carSelected}</p>`),$("#ventanaModal").modal("show").modal("handleUpdate");break;case bookTypesArr[1]:try{u=excursions[l]["passengers ranges"][r.value],$("#totalPriceContainer").html("<h3>Total estimated::</h3>"+`<p>USD$ ${u}</p>`)}catch(e){$("#totalPriceContainer").html("<p>Check the price with the company</p>")}wameMessage=`Hi!, i want to make a reservation for the ${t} service, `+`I chose: ${l}, for the date of ${p} `+(r.value?`with a range of ${r.value} passengers,`:"")+" Could you offer me more information, please?",$("#selectedDateContainer").html('<h3 class="title">Selected date:</h3>'+`<p>${p}</p>`),$("#selectedRouteContainer").html('<h3 class="title">Selected excursion:</h3>'+`<p>${l}</p>`),$("#selectedCarContainer").html('<h3 class="title">Selected vehicle:</h3>'+`<p>${carSelected}</p>`),$("#ventanaModal").modal("show").modal("handleUpdate")}})});